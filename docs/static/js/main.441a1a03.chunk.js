(this.webpackJsonppursedemons=this.webpackJsonppursedemons||[]).push([[0],{4:function(e,t,n){e.exports=n(9)},9:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(2),o=n.n(s),r=n(1);const c=e=>new Promise(t=>setTimeout(t,1e3*e)),l=e=>{const t=[...e];if(0===t.length)throw new Error("can't select random value from empty array!");return t[Math.floor((t.length-1)*Math.random())]},d=(...e)=>{console.log(...e);const t=document.createElement("p");t.className=Object(r.a)({animationName:""+Object(r.b)({"0%":{opacity:0},"5%":{opacity:1},"25%":{opacity:1},"50%":{opacity:.5},"100%":{opacity:1}}),animationDuration:"8s",animationIterationCount:1,animationFillMode:"forwards"});for(let r of e){for(;"function"===typeof(null===(n=r)||void 0===n?void 0:n[d.as]);){var n;r=r[d.as]()}if(i.a.isValidElement(r)||"string"==typeof r||"number"==typeof r){const e=document.createElement("span");o.a.render(i.a.createElement(i.a.StrictMode,null,r),e),t.appendChild(e)}else{const e=document.createElement("code");e.textContent="object"===typeof r?JSON.stringify(r,null,2):String(r),t.appendChild(e)}t.appendChild(document.createTextNode(" "))}const a=window.document.documentElement.scrollHeight-window.innerHeight,s=window.document.documentElement.scrollTop>=a-4;document.body.appendChild(t);const c=window.document.documentElement.scrollHeight-window.innerHeight;s&&(window.document.documentElement.scrollTop=c)};d.as=Symbol("print.as");const m=({species:e,onClick:t})=>{const[n,s]=Object(a.useState)(!1),o=["front"];n&&t&&o.push("sparklie");const c=String(e.number).padStart(3,"0"),l=o.join("-")+".png",d=`/demons/${c}-${e.name.toLowerCase()}/${l}`;return i.a.createElement("img",{alt:`${e.name}, Purse Demon #${e.number}`,src:d,draggable:!1,onClick:t&&(()=>t()),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),className:Object(r.a)({objectFit:"contain",imageRendering:"pixelated",width:48,height:48,cursor:t?"pointer":void 0,userSelect:t?"none":void 0})})},h=[],p=h,u=(e,t,n="none")=>{const a={number:e,name:t,evolvesFrom:n};if(h[a.number])throw new Error("duplicate demon species number: "+a.number);if(h[a.name]||h[a.name.toLowerCase()])throw new Error("duplicate demon species name: "+a.name);return h[a.number]=a,h[a.name]=a,h[a.name.toLowerCase()]=a,a},b=u(96,"Tagger"),g=u(111,"Ursa","egg");u(112,"Ursus",g.number),u(144,"Violetsky","egg");let E;class w{constructor(){this.stars=[]}async main(){const e=new y,t=new f;this.stars=[e,t],await k(e,t)}render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Object(r.a)({display:"block",height:256})}),i.a.createElement("div",{className:Object(r.a)({display:"block",position:"fixed",left:0,right:0,top:0,padding:16,height:256,borderBottom:"1px solid black",background:"white",zIndex:1e3})},i.a.createElement("div",null,this.stars.map(e=>i.a.createElement("div",{className:Object(r.a)({display:"inline-block",margin:16})},e.renderCard()))),i.a.createElement("div",null,p.map(e=>i.a.createElement("div",{className:Object(r.a)({display:"inline-block",margin:16})},i.a.createElement(m,{species:e,onClick:()=>d(e)})," ",i.a.createElement("strong",null,e.name))))))}}const k=async(e,t)=>{for(d("--- WELCOME TO THE MAIN EVENT! ---"),d("Today! Fighting to the death, for your entertainment, we have..."),d("In the red corner:",e),d("In the blue corner:",t);e.hp>0&&t.hp>0;){let n,a;if(await c(1),n=e.speed>t.speed?e:t.speed>e.speed?t:l([e,t]),a=n===e?t:e,n.attackOther(a),e.hp<=0||t.hp<=0)break;a.attackOther(n)}d(),d("--- THE JUDGE'S SCORECARDS ---"),d("red:",e),d("blue:",t)};E=d.as;class v{constructor(){this.species=void 0,this.hp=void 0,this.maxHp=void 0,this.attack=void 0,this.speed=void 0,this.nickname=void 0,this.position=void 0,this.range=void 0,this.image=void 0}[E](){return this.renderCard(!1)}renderCard(e=!0){const t=this.hp/this.maxHp,n=t>=1?"#88E0D0":t>=.8?"#8DA":t>=.4?"#DA4":t>=.2?"#E93":t>0?"#F00":"#402";return i.a.createElement("span",{className:Object(r.a)({padding:4,borderRadius:4,border:"1px solid #888",width:256,position:"relative"})},i.a.createElement(m,{species:this.species,onClick:e?()=>{this.hp=this.maxHp,d("You healed ",this)}:void 0})," ",i.a.createElement("span",{className:Object(r.a)({display:"inline-block",width:80,fontWeight:"bold"})},this.nickname)," ",i.a.createElement("code",{className:Object(r.a)({display:"inline-block",width:150,fontWeight:"bold",textAlign:"right"})},i.a.createElement("span",{className:Object(r.a)({color:t<.2?"#800":"#000"})},this.hp),"/",this.maxHp," HP"),i.a.createElement("span",{className:Object(r.a)({position:"absolute",bottom:0,left:0,right:100-100*t+"%",transition:"all 0.5s ease-out",height:4,background:n,zIndex:-32})}),i.a.createElement("span",{className:Object(r.a)({opacity:1/4,position:"absolute",bottom:0,left:0,right:0,height:5,borderTop:"1px solid black",transition:"all 0.5s ease-out",background:n,zIndex:-64})}))}attackOther(e){let t;d(this,"is attacking",e),t="air"===this.range&&"air"===e.position||"ground"===this.range&&"ground"!==e.position?0:this.attack,t>0&&(Math.random()<.05&&(d("It's a critical hit!"),t*=2),e.hp-=t,e.hp<=0&&(e.hp=0,d(e,"has been killed by",this)))}}class y extends v{constructor(){super(),this.species=b,this.nickname=this.species.name,this.maxHp=400,this.hp=this.maxHp,this.attack=40,this.range="universal",this.speed=1,this.position="air"}}class f extends v{constructor(){super(),this.species=g,this.nickname=this.species.name,this.maxHp=400,this.hp=this.maxHp,this.attack=40,this.range="universal",this.speed=400,this.position="ground"}}setTimeout(async()=>{const e=new w,t=document.querySelector("main"),n=()=>{const a=e.render();o.a.render(i.a.createElement(i.a.StrictMode,null,a),t),requestAnimationFrame(n)};n(),await e.main()})}},[[4,1,2]]]);
//# sourceMappingURL=main.441a1a03.chunk.js.map